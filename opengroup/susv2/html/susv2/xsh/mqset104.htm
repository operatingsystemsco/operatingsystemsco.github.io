<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<!-- Copyright 1997 The Open Group, All Rights Reserved -->
<title>mq_setattr</title>
</head><body bgcolor=white>
<center>
<font size=2>
The Single UNIX &reg; Specification, Version 2<br>
Copyright &copy; 1997 The Open Group

</font></center><hr size=2 noshade>
<h4><a name = "tag_000_007_774">&nbsp;</a>NAME</h4><blockquote>
mq_setattr - set message queue attributes
(<b>REALTIME</b>)
</blockquote><h4><a name = "tag_000_007_775">&nbsp;</a>SYNOPSIS</h4><blockquote>
<pre><code>

#include &lt;<a href="mqueu106.htm">mqueue.h</a>&gt;

int mq_setattr(mqd_t <i>mqdes</i>, const struct mq_attr *<i>mqstat</i>,
    struct mq_attr *<i>omqstat</i>);
</code>
</pre>
</blockquote><h4><a name = "tag_000_007_776">&nbsp;</a>DESCRIPTION</h4><blockquote>
The
<i>mq_setattr()</i>
function is used to set attributes associated with
the open message queue description referenced by the message queue descriptor
specified by
<i>mqdes</i>.
<p>
The message queue attributes corresponding to
the following members defined in the
<b>mq_attr</b>
structure are set to the specified values upon
successful completion of
<i>mq_setattr()</i>:
<dl compact>

<dt>mq_flags<dd>The value of this member is the bitwise logical OR of zero or more
of O_NONBLOCK and any implementation-dependent flags.

</dl>
<p>
The values of the
<i>mq_maxmsg</i>,
<i>mq_msgsize</i>
and
<i>mq_curmsgs</i>
members of the
<b>mq_attr</b>
structure are ignored by
<i>mq_setattr()</i>.
<p>
If
<i>omqstat</i>
is non-NULL, the function
<i>mq_setattr()</i>
stores, in the location referenced by
<i>omqstat</i>,
the previous message queue attributes and the current queue status.
These values are the same as would be returned by a call to
<i><a href="mqget99.htm">mq_getattr()</a></i>
at that point.
</blockquote><h4><a name = "tag_000_007_777">&nbsp;</a>RETURN VALUE</h4><blockquote>
Upon successful completion,
the function returns a value of zero and
the attributes of the message queue will have been changed as specified.
Otherwise, the message queue attributes are unchanged,
and the function returns a value of -1 and sets
<i>errno</i>
to indicate the error.
</blockquote><h4><a name = "tag_000_007_778">&nbsp;</a>ERRORS</h4><blockquote>
The 
<i>mq_setattr()</i>
function will fail if:
<dl compact>

<dt>[EBADF]<dd>
The
<i>mqdes</i>
argument is not a valid message queue descriptor.

<dt>[ENOSYS]<dd>
The function
<i>mq_setattr()</i>
is not supported by this implementation.

</dl>
</blockquote><h4><a name = "tag_000_007_779">&nbsp;</a>EXAMPLES</h4><blockquote>
None.
</blockquote><h4><a name = "tag_000_007_780">&nbsp;</a>APPLICATION USAGE</h4><blockquote>
None.
</blockquote><h4><a name = "tag_000_007_781">&nbsp;</a>SEE ALSO</h4><blockquote>
<i><a href="mqope101.htm">mq_open()</a></i>,
<i><a href="mqsen103.htm">mq_send()</a></i>,
<i><a href="mqueu106.htm">&lt;mqueue.h&gt;</a></i>,
<i><a href="msgctl.htm">msgctl()</a></i>,
<i><a href="msgget.htm">msgget()</a></i>,
<i><a href="msgrcv.htm">msgrcv()</a></i>,
<i><a href="msgsnd.htm">msgsnd()</a></i>.
</blockquote><h4>DERIVATION</h4><blockquote>
Derived from the POSIX Realtime Extension (1003.1b-1993/1003.1i-1995)
</blockquote><hr size=2 noshade>
<center><font size=2>
UNIX &reg; is a registered Trademark of The Open Group.<br>
Copyright &copy; 1997 The Open Group
<br> [ <a href="../index.htm">Main Index</a> | <a href="../xshix.htm">XSH</a> | <a href="../xcuix.htm">XCU</a> | <a href="../xbdix.htm">XBD</a> | <a href="../cursesix.htm">XCURSES</a> | <a href="../xnsix.htm">XNS</a> ]

</font></center><hr size=2 noshade>
</body></html>

