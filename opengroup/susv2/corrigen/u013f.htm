<!DOCTYPE HTML SYSTEM "html.dtd">
<HTML>
<HEAD>
<TITLE>Corrigenda U013</TITLE>
</HEAD>
<BODY>
<BODY LINK="#DC460F" VLINK="#8E2323" ALINK="#FF7F00" TEXT=#077DB5  BGCOLOR="#FFFFFF">

<BODY>

<H2>X/Open Corrigenda: U013</H2>


<H1> Document: System Interfaces and Headers, Issue 4, Version 2<BR></H1>


X/Open CAE Specification, 09/94<BR>
X/Open reference C435, ISBN 1-85912-037-7<BR>

<P>
<BLOCKQUOTE>
<DL>
<P><DT><a href="#j07">1170/07</a><DD>chmod
<P><DT><a href="#j148">1170/148</a><DD>close
<P><DT><a href="#j32">1170/32</a><DD>dbm_open
<P><DT><a href="#j30">1170/30</a><DD>initstate
<P><DT><a href="#j04">1170/04</a><DD>libgen.h
<P><DT><a href="#j05">1170/05</a><DD>libgen.h
<P><DT><a href="#j158">1170/158</a><DD>makecontext
<P><DT><a href="#j12">1170/12</a><DD>mmap
<P><DT><a href="#j127">1170/127</a><DD>mmap
<P><DT><a href="#j21">1170/21</a><DD>nftw
<P><DT><a href="#j138">1170/138</a><DD>poll.h
<P><DT><a href="#j06">1170/06</a><DD>putmsg
<P><DT><a href="#j24">1170/24</a><DD>regcmp
<P><DT><a href="#j161">1170/161</a><DD>regexp
<P><DT><a href="#j16">1170/16</a><DD>setlogmask
<P><DT><a href="#j46">1170/46</a><DD>setrlimit
<P><DT><a href="#j33">1170/33</a><DD>setregid
<P><DT><a href="#j83">1170/83</a><DD>sigaction
<P><DT><a href="#j37">1170/37</a><DD>signal.h
<P><DT><a href="#j61">1170/61</a><DD>signal.h
<P><DT><a href="#j35">1170/35</a><DD>sigpause
<P><DT><a href="#j162">1170/162</a><DD>strftime
<P><DT><a href="#j160">1170/160</a><DD>strlen, strspn, strcspn, wcscspn, wcsspn
<P><DT><a href="#j28">1170/28</a><DD>sys/wait.h
<P><DT><a href="#j02">1170/02</a><DD>utmpx.h
<P><DT><a href="#j03">1170/03</a><DD>wchar.h
</DL>
</BLOCKQUOTE>
<P>
<HR><a name="j02">
<P>
<B><DL><DT>Change number: 1170/02
<DT>Source: XoTGBase
<DT>Change:</B><DD>
<P>
On the &#60;utmpx.h&#62; manual page (page 864), after the declaration of
struct timeval ut_tv, add the text "The timeval structure is defined
as described in &#60;sys/time.h&#62;. Inclusion of the &#60;utmpx.h&#62; header may
also make visible all symbols from &#60;sys/time.h&#62;."
<P>
On the &#60;stropts.h&#62; manual page (page 813), after the references to
uid_t and gid_t, add the text "The uid_t and gid_t types are defined
through typedef as described in &#60;sys/types.h&#62;."
<P>
On the &#60;sys/resource.h&#62; manual page (page 825), after the reference
to id_t, add the text "The id_t type is defined through typedef as
described in &#60;sys/types.h&#62;."
<P>
On the &#60;ndbm.h&#62; manual page (page 784), after the reference to
mode_t, add the text "The mode_t type is defined through typedef as
described in &#60;sys/types.h&#62;."
<P>
On the &#60;strings.h&#62; manual page (page 812), after the reference
to size_t, add the text "The size_t type is defined through typedef
as described in &#60;stddef.h&#62;."
<P>
On the &#60;utmpx.h&#62; manual page (page 864), after the reference to
pid_t, add the text "The pid_t type is defined through typedef as
described in &#60;sys/types.h&#62;."
<P>
</DL><HR><a name="j03">
<P>
<B><DL><DT>Change number: 1170/03
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the &#60;wchar.h&#62; manual page (page 867), remove the prototypes of
the functions getws() and putws().

</DL><P><HR><P><a name="j04">
<B><DL><DT>Change number: 1170/04
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the &#60;libgen.h&#62; manual page (page 768), change the function prototype
for dirname to "char *dirname(char *);".

</DL><P><HR><P><a name="j05">
<B><DL><DT>Change number: 1170/05
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the &#60;libgen.h&#62; manual page (page 768), change the function prototype
for basename to "char *basename(char *);".

</DL><P><HR><P><a name="j06">
<B><DL><DT>Change number: 1170/06
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the putmsg() manual page (page 447), delete the text that
reads "The STREAM head guarantees that the control part of a
message generated by putmsg() is at least 64 bytes in length."

</DL><P><HR><P><a name="j07">
<B><DL><DT>Change number: 1170/07
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the chmod() manual page (page 84), after the section that describes
the behaviour when the S_ISVTX bit is set, add the following: "If
the S_ISVTX bit is set on a non-directory file, the behaviour is
unspecified."

</DL><P><HR><P><a name="j12">
<B><DL><DT>Change number: 1170/12
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the mmap() manual page (page 398), change the third full paragraph
to read "Manipulation of the mapped file to be changed. If the size
of the mapped file changes after the call to mmap() as a result of
some other operation on the mapped file, the effect of references to
portions of the mapped region that correspond to added or removed
portions of the file is unspecified."

</DL><P><HR><P><a name="j16">
<B><DL><DT>Change number: 1170/16
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the closelog() manual page (page 95), add to the description of
setlogmask() "A call to openlog is not required prior to calling
setlogmask()."

</DL><P><HR><P><a name="j21">
<B><DL><DT>Change number: 1170/21
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the nftw() manual page (page 416), change the description of the
depth parameter to read "The argument depth sets the maximum number
of file descriptors that will be used by nftw() while traversing the
file tree. At most one file descriptor will be used for each directory
level."

</DL><P><HR><P><a name="j24">
<B><DL><DT>Change number: 1170/24
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the regcmp() manual page (page 472), change the description of
the $ symbol to read "Matches the end of the string; The character
sequence \n within a string, matches a newline."

</DL><P><HR><P><a name="j28">
<B><DL><DT>Change number: 1170/28
<DT>Source: XoTGBase
<DT>Change:</B><DD>

In Section 2.2.2, change the identifier table entry for &#60;sys/wait.h&#62;
to read "si_, W[A-Z], P_".

In Section 2.2.2, change the macro table entry for &#60;sys/wait.h&#62; to
delete the P_ entry.

</DL><P><HR><P><a name="j30">
<B><DL><DT>Change number: 1170/30
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the initstate() manual page (page 300):

- change paragraph 5 of the DESCRIPTION "values smaller than 8"
  to "values greater than or equal to 8 or less than 32".

- change paragraph 7 of the DESCRIPTION "size &#60; 8" to "size &#62;= 8 and &#60;32"

In the RETURN VALUE section add "If initstate() is called with size
less than 8, it returns NULL"

</DL><P><HR><P><a name="j32">
<B><DL><DT>Change number: 1170/32
<DT>Source: XoTGBase
<DT>Change:</B><DD>

Change the dbm_clearerr() manual page (page 110) from "The open_flags
argument has the same meaning... access." to "The open_flags argument
has the same meaning as the flags argument of open() except that a
database opened for write-only access opens the files for read and
write access and the behaviour of the O_APPEND flag is unspecified."

</DL><P><HR><P><a name="j33">
<B><DL><DT>Change number: 1170/33
<DT>Source: XoTGBase
<DT>Change:</B><DD>

Change the setregid() manual page (page 530) from "A non-privileged
process...ID." to "A non-privileged process can set either the real
group ID to the saved set-group-ID from exec*(), or the effective
group ID to the saved set-group-ID or the real group ID."

</DL><P><HR><P><a name="j35">
<B><DL><DT>Change number: 1170/35
<DT>Source: XoTGBase
<DT>Change:</B><DD>

Change the signal() manual page (page 563), RETURN VALUE section, by
inserting before the last paragraph the following text "The function
sigpause() suspends execution of the process until a signal is
received, whereupon it returns -1 and sets errno to EINTR."

</DL><P><HR><P><a name="j37">
<B><DL><DT>Change number: 1170/37
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the &#60;signal.h&#62; manual page (page 794), remove the prototype of
the sigmask() function.

</DL><P><HR><P><a name="j38">
<B><DL><DT>Change number: 1170/38
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the sigaction() manual page (page 545), in the table of
non-interruptible functions, add [UX] sigset() and sigpause() [UX].

</DL><P><HR><P><a name="j39">
<B><DL><DT>Change number: 1170/39
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the signal() manual page (page 563), change the description of
sigpause() to read "The sigpause() function removes sig from the
calling process' signal mask and suspends the calling process until
a signal is received. The sigpause() function restores the process'
signal mask to its original state before returning."

</DL><P><HR><P><a name="j40">
<B><DL><DT>Change number: 1170/40
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the &#60;signal.h&#62; manual page (page 794), change the description of
the sa_sigaction member of the sigaction structure to read "pointer to
signal handler function or one of the macros SIG_IGN or SIG_DFL".

</DL><P><HR><P><a name="j46">
<B><DL><DT>Change number: 1170/46
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the getrlimit() manual page (page 269), add APPLICATION USAGE: "If
a process attempts to set the hard limit or soft limit for
RLIMIT_NOFILE to less than the value of _POSIX_OPEN_MAX from
&#60;limits.h&#62; unexpected behaviour may occur."

</DL><P><HR><P><a name="j61">
<B><DL><DT>Change number: 1170/61
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the &#60;signal.h&#62; manual page (page 794) in the table describing
signals and their default actions, change the default action of
SIGURG from (i) to (iii).

</DL><P><HR><P><a name="j83">
<B><DL><DT>Change number: 1170/83
<DT>Source: XoTGBase
<DT>Change:</B><DD>

Change the sigaction() manual page (page 545), APPLICATION USAGE, seventh
paragraph from uncontext_t to ucontext_t.

</DL><P><HR><P><a name="j127">
<B><DL><DT>Change number: 1170/127
<DT>Source: XoTGBase
<DT>Change:</B><DD>

Change the mmap() manual page (page 398), DESCRIPTION, sixteenth paragraph
from:

"The implementation always zero-fills any partial page at the end
of a memory region. Further, the implementation never writes out
any modified portions of the last page of a file that are
beyond the end of the mapped portion of the file."

to:

"The implementation always zero-fills any partial page at the end
of the file. Further, the implementation never writes out
any modified portions of the last page of a file that are
beyond the end of the file."

</DL><P><HR><P><a name="j138">
<B><DL><DT>Change number: 1170/138
<DT>Source: XoTGBase
<DT>Change:</B><DD>

Change the &#60;poll.h&#62; manual page (page 786) description for POLLIN to
say "the same effect as" and not "the same value as".

</DL><P><HR><P><a name="j148">
<B><DL><DT>Change number: 1170/148
<DT>Source: XoTGBase
<DT>Change:</B><DD>

Change the close() manual page (page 92), DESCRIPTION, eighth
paragraph to:

"If fildes refers to the master side of a pseudo-terminal and this is
the last close, a SIGHUP signal is sent to the process group ..."

</DL><P><HR><P><a name="j158">
<B><DL><DT>Change number: 1170/158
<DT>Source: XoTGBase
<DT>Change:</B><DD>

Change the makecontext() manual page (page 377) from:

The makecontext() and swapcontext() functions will fail if:

ENOMEM  The ucp argument does not have enough stack left to complete
        the operation.

to:

The swapcontext() function will fail if:

ENOMEM  The ucp argument does not have enough stack left to complete
        the operation.

</DL><P><HR><P><a name="j160">
<B><DL><DT>Change number: 1170/160
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the strlen() manual page (page 608), correct the RETURN VALUE:

"The strlen() function returns the length of s; no return value
is reserved to indicate an error."

On the strspn() manual page (page 618), correct the RETURN VALUE:

"The strspn() function returns the length of s1; no return value
is reserved to indicate an error."

On the strcspn() manual page (page 598), correct the RETURN VALUE:

"The strcspn() function returns the length of s1; no return value
is reserved to indicate an error."

On the wcscspn() manual page (page 713), correct the RETURN VALUE:

"The wcscspn() function returns the length of ws1; no return value
is reserved to indicate an error."

On the wcsspn() manual page (721), correct the RETURN VALUE:

"The wcsspn() function returns the length of ws1; no return value
is reserved to indicate an error."

</DL><P><HR><P><a name="j161">
<B><DL><DT>Change number: 1170/161
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the regexp() manual page (page 480) change the SYNOPSIS from:

#define PEEK() peek code

to:

#define PEEKC() peekc code

</DL><P><HR><P><a name="j162">
<B><DL><DT>Change number: 1170/162
<DT>Source: XoTGBase
<DT>Change:</B><DD>

On the strftime() manual page (page 605), change the %OV conversion
specifier to be consistent with %V and refer to Monday as the first
day of the week.
</DL>
<P>
<HR>
<P>
If you can't find the information you need, please contact
X/Open at any of its <A HREF = "http://www.xopen.co.uk/contact.htm">offices.</A>
<P>
<HR>
<P>
<A HREF="http://www.xopen.co.uk/cprt.htm">Copyright X/Open Company Limited, &#169; 1996</A>
<P>
<HR>
</BODY>
</HTML>
