(function(x,p){function N(a){y("iframe","javascript:false",p,function(b){n=b.contentWindow;b=n.document;b.open();b.close();y("script","//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js",b);y("script","//ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js",b);"object"===typeof n.JSON&&"function"===typeof n.JSON.stringify||y("script","//cdnjs.cloudflare.com/ajax/libs/json2/20140204/json2.min.js",b);(function g(){n.jQuery&&n.JSON?(k=n.jQuery,z=n.JSON,a&&a.call()):setTimeout(g,50)})()})}
function G(a){var b=a[0],c=a[1],g=a[2];if("function"==typeof b)b.call({});else switch(b){case "site":var f=g;O(c,f);break;case "trigger":var d=c,e;k.each(A,function(a,b){k.each(b.rules,function(a,c){c[0]==d&&(e=!0,b.processActions(d,c[2],g))})});e||H.push([d,g]);break;case "survey":if("string"==typeof c){f=g;var h,l;v("//s.feedbackify.com/links/"+c+".js",function(){var a=n["link_"+c];if(d=a.collectorId)v("//s.feedbackify.com/links/"+d+".js",function(){var a=n["link_"+d];l=a.region.toLowerCase();new t({collectorId:d,
id:a.surveyId,region:l,callback:function(){this.show()}})});else if(h=a.surveyId)d=c,l=a.region.toLowerCase(),new t({collectorId:d,id:h,region:l,callback:function(){f&&"inline"==f.type?(this.type="inline",this.show({container:f.container})):this.show()}})})}else"object"==typeof c&&(response=new I({region:c.region,token:c.token,callback:function(){new t({id:this.surveyId,region:this.region,callback:function(){this.response=response;this.show()}})}}))}}function O(a,b){if(!A[a]){var c=P(b);v("//s.feedbackify.com/sites/"+
a+".js",function(){var b=n["site_"+a],f=A[a]=new Q;f.id=a;f.version=b[0];f.rules=b[1];f.visitor=c;f.processRules();k.each(H,function(a,b){k.each(f.rules,function(a,d){d[0]==b[0]&&f.processActions(b[0],d[2],b[1])})})})}}function P(a){var b="_fby_visitor";a:{for(var c,g="tmp"+B(!0)+"=1",f=p.location.hostname.split("."),d=f.length-1;0<=d;d--){var e=f.slice(d).join(".");p.cookie=c=g+";domain=."+e+";";if(-1<p.cookie.indexOf(g)){p.cookie=c+"expires=Thu, 01 Jan 1970 00:00:01 GMT;";break a}}e=""}c="/";"object"==
typeof a?(b=a.cookieName||b,e=a.cookieDomain||e,c=a.cookiePath||c):"string"==typeof a&&(e=a);e=e.replace(/^\./,"");a=e+c;g=b+":"+a;if(C[g])return C[g];var h;if((h=D(b,{1:a}))&&(h=h.split("|"))){f=h[2];d=h[3];var l=h[4];var k=h[5];var m=+h[6];var q=+h[7];h=+h[8]+1;1800<u-k?(d=l,k=l=u,m+=1,q=1):(k=u,q+=1)}else k=l=d=f=u,h=q=m=1;D(b,[1,a,f,d,l,k,m,q,h].join("|"),{expires:u+31536E4,domain:"."+e,path:c});return C[g]=new R(e,c,l,m,q,h)}function B(a){return Math.round((new Date).getTime()/(a?1:1E3))}function D(a,
b,c){var g=null,f={},d=null;switch(typeof b){case "string":g=b;"object"==typeof c&&(f=c);break;case "object":d=b}if(null!=g)return p.cookie=a+"="+g+(null!==f.expires?";expires="+(new Date(1E3*f.expires)).toUTCString():"")+(f.domain?";domain="+f.domain:"")+";path="+(f.path?f.path:"/");b=""+p.cookie;g=0;for(c=[];;){f=b.indexOf(a+"=",g);if(-1==f||""==a)return d?null:c;g=b.indexOf(";",f);-1==g&&(g=b.length);f=b.substring(f+a.length+1,g);if(d)for(var e in d)if(f.split("|")[e]==d[e])return f;c.push(f)}}
function v(a,b){k.ajax({url:a,success:b,global:!1,dataType:"script",cache:!0})}function S(a){a=a||{};var b=a.collectorId,c=a.surveyId,g=a.region,f=a.onclose,d=a.content||"",e=a.css,h="feedbackify-tab-"+b,l=a._o;J||(J=!0,K(".feedbackify-tab {margin:0;padding:0;border:0;background:0;}.feedbackify-tab.mouse {outline:0;}@media print {.feedbackify-tab {display:none;}}"));e&&K(e);a=k('<button id="'+h+'" class="feedbackify-tab '+(T||U?"mobile":"desktop")+'">'+d+"</button>",p).appendTo(p.body);a.click(function(){new t({collectorId:b,
id:c,region:g,onclose:f,_o:l,callback:function(){this.show()}});return!1});a.on("mousedown",function(a){k(this).addClass("mouse")});a.on("blur",function(a){k(this).removeClass("mouse")})}function R(a,b,c,g,f,d){return{domain:a,path:b,visits:g,pages:f,totalPages:d,timeOnPage:function(){return B()-u},timeOnSite:function(){return B()-c}}}function Q(){var a,b={},c={},g={},f=function(d,e,g,l){k.isArray(e[0])&&(e=e[0]);var h=a.visitor;switch(e[0]){case "and":for(var m=1;m<e.length;m++)if(!f(d,e[m],g,l))return!1;
return!0;case "or":for(m=1;m<e.length;m++)if(f(d,e[m],g,l))return!0;return!1;case "browser":return!1;case "cookie":return f(d,e.slice(1),"cookie",l);case "js":try{return!!(new Function("return "+e[1]))()}catch(q){return!1}case "url":return function(){var a=e[2];switch(e[1]){case "regex":return(new RegExp(a,"i")).test(location.href)}return!1}();case "time_on_site":return function(){var b=e[1],c=h.timeOnSite();if(c>=b)return!0;setTimeout(function(){a.tryRule(d,a.rules[d])},1E3*(b-c));return!1}();case "time_on_page":return function(){var b=
e[1],c=h.timeOnPage();if(c>=b)return!0;setTimeout(function(){a.tryRule(d,a.rules[d])},1E3*(b-c));return!1}();case "exit":return function(){if(l&&l.exited)return!0;b[d]||(b[d]=function(b){!L.modalOn&&20>b.clientY&&a.tryRule(d,a.rules[d],{exited:!0})},k(E).on("mouseleave.rule"+d,b[d]));return!1}();case "leave":return function(){if(l&&l.leaving)return!0;c[d]||(c[d]=function(b){if(!L.modalOn)return a.tryRule(d,a.rules[d],{leaving:!0})?"* Please stay and tell us why you're leaving! *":void 0},k(x).on("beforeunload.rule"+
d,c[d]));return!1}();case "visits":return function(){var a=e[2],b=h.visits;switch(e[1]){case ">":return b>a;case "=":return b==a}return!1}();case "pages":return function(){var a=e[2],b=h.pages;switch(e[1]){case ">":return b>a;case "=":return b==a}return!1}();case "percent":return e[1]>100*Math.random()?!0:!1}switch(g){case "cookie":return function(){var a=D(e[0])[0],b=null!=a,d=e[2];switch(e[1]){case "=":return a==d;case "!=":return b&&a!=d;case "exists":return b;case "!exists":return!b;case "regex":case "!regex":return b=
new RegExp(d,"i"),"regex"==e[1]?b.test(a):!b.test(a);default:return!1}}()}return!1};this.visitor={};this.rules={};this.version=null;this.tryRule=function(b,c,h){var d,e=0;"string"==typeof c[0]&&(d=c[e++]);var m=c[e++],q=c[e++];if(!m.length||f(b,m,null,h))if(k(E).off(".rule"+b),k(x).off(".rule"+b),!g[b])return g[b]=!0,h&&h.leaving?setTimeout(function(){a.processActions(d,q)},1E3):a.processActions(d,q),!0;return!1};this.processRules=function(){a=this;1==a.version&&k.each(a.rules,function(b,c){a.tryRule(b,
c)})};this.processActions=function(a,b,c){for(var d=c?c._o:null,e=0;e<b.length;e++){var g=b[e];switch(g[0]){case "tab":(function(){var b=g[1];try{var c=new Function("response",b.onclose)}catch(Y){c=null}S({collectorId:a,surveyId:b.surveyId,region:b.region.toLowerCase(),content:b.content,css:b.css,onclose:c,_o:d})})();break;case "survey":(function(){var b=g[1],e=b.type,f=b.id,h=b.region.toLowerCase();try{var l=new Function("response",b.onclose)}catch(Z){l=null}switch(e){case "overlay":new t({collectorId:a,
id:f,region:h,onclose:l,_o:d,callback:function(){this.show()}});break;case "inline":var m=k("string"==typeof c?c:"object"==typeof c?c.nodeType?c:c.selector:b.selector,p).eq(0);m.length&&new t({collectorId:a,id:f,region:h,onclose:l,_o:d,callback:function(){this.type="inline";this.show({container:m})}})}})();break;case "js":try{(new Function(g[1]))()}catch(q){}}}}}var r=FeedbackifyObject=FeedbackifyObject||{l:Math.round((new Date).getTime()/1E3)};if(!r.loaded){r.loaded=!0;var L=r.vars={env:"live",modalOn:!1},
w=r.funcs={},u=r.l,H=[],A={},C={},F={},k,z=x.JSON||{},V=x.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,n,M=navigator.userAgent,W="Microsoft Internet Explorer"==navigator.appName,T=/(iphone|ipad|ipod)/i.test(M),U=/android/i.test(M),E=p.documentElement,J,K=w.a=function(a,b){b=b||p;if(/^(\/\/|http?:)/.test(a))k('<link rel="stylesheet" type="text/css">',b).appendTo(k("head",b)).attr("href",a);else{var c=b.createElement("div");c.innerHTML="&shy;<style>"+a+"</style>";b.getElementsByTagName("head")[0].appendChild(c.childNodes[1])}};
w.b=function(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return a.replace(/[&<>"']/g,function(a){return b[a]})};var y=w.c=function(a,b,c,g){a=c.createElement(a);a.src=b;a.style.display="none";c.body.appendChild(a);g&&g.call(a,a)},X=w.d=function(a){a.type=a.type||"GET";a.dataType="json";V?(/GET|POST/i.test(a.type)||(a.url+=(/\?/.test(a.url)?"&":"?")+"_method="+a.type,a.type="POST"),a.data&&(a.data=z.stringify(a.data))):(a.url+="?callback=?","GET"!=a.type&&(a.url+="&_method="+
a.type),a.data&&(a.data={_json:z.stringify(a.data)}));k.ajax(a)};w.e=function(a,b,c,g){(new Function("$","survey","$surveyContainer",a))(b,c,g)};var t=function(a){var b={response:new I};if("object"==typeof a){b.id=a.id;b.collectorId=a.collectorId;b.region=a.region;b.onclose=a.onclose;b._o=a._o||[];var c=a.callback;v("https://survey-"+{us:"us",uk:"uk"}[b.region]+"1-feedbackify.netdna-ssl.com/surveys/"+b.id,function(){function a(a){a&&(F[d]=n["engine"+d]);F[d](b,f,c)}var f=n.surveys[b.id],d=b._o[2]||
f.engine||1;F[d]?a():n["engine"+d]?a(!0):v("//cdn.feedbackify.com/js/"+d+"/engine.js?50",function(){a(!0)})})}return b},I=function(a){var b={region:null,token:null,isCompleted:null,surveyId:null,answers:{}};if("object"==typeof a){b.region=a.region;b.token=a.token;var c=a.callback;a="https://in"+{us:"",uk:"-uk"}[b.region]+".feedbackify.com/";X({url:a+"responses/"+b.token,success:function(a){b.surveyId=a.surveyId;b.answers=a.answers;b.isCompleted=!!a.isCompleted;c&&c.call(b)}})}return b};(function(a){(function c(){try{E.doScroll("left")}catch(g){if(W||
!p.body){setTimeout(c,50);return}}a&&a.call()})()})(function(){N(function(){try{for(;i=r.q.shift();)G(i)}catch(a){}FeedbackifyObject=function(){G(arguments)};r=k.extend(FeedbackifyObject,r)})})}})(window,document);